<!DOCTYPE html>
<html lang="<%= language === 'zh' ? 'zh-TW' : 'en' %>">
<head>
<!-- meta attributes -->
<meta charset="utf-8">
<meta name="author" content="Jack Gowan">
<meta name="description" content="first built maze">
<title>The Maze - Trapped</title>
<link rel="stylesheet" href="/css/a_maze_style.css">
</head>
<body>
<h1 class="main-title"><%= translations?.[language]?.title || 'The Iron Prison' %></h1>

  <div class="room-container">
    <div class="content-wrapper">
      <div class="room-image">
        <img src="/images/a3_maze-dark-trap-2-iron.png" alt="The iron prison">
      </div>
      <div class="room-content">
        <div class="room-text">
          <code>
            <%- translations?.[language]?.text || `You push open the heavy iron door. It swings inward with a deep groan.
            <p>The moment you step through, the door slams shut behind you with a CLANG. You're in a small iron chamber. The walls begin to heat up, glowing red-hot.</p>
            <p>You try the door but it's sealed. The heat becomes unbearable. Your skin blisters. You scream and pound on the door but there's no escape.</p>
            <p>The iron chamber becomes an oven. You cook alive, your flesh melting, your blood boiling. The maze claims another victim.</p>
            <p style="color: #ff0000; font-weight: bold; text-align: center;">YOU HAVE DIED</p>
            <p>Iron doors make excellent ovens.</p>` %>
          </code>
        </div>

        <hr/>

        <div class="navigation">
          <p><%= translations?.[language]?.choices?.prompt || 'Your journey ends here:' %></p>
          <a href="/"><%= translations?.[language]?.choices?.options?.[0] || 'Try again from the beginning' %></a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Detect back button and redirect to start
    window.onpageshow = function(event) {
      if (event.persisted || (performance.navigation && performance.navigation.type === 2)) {
        window.location.replace('/');
      }
    };
  </script>
</body>
</html>
